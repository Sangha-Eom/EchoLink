
모바일 ↔ 인증 서버 ↔ 데스크탑 서버 흐름

---
### 1. 모바일 로그인 후 세션 생성

모바일 앱 사용자가 구글 로그인 완료 → JWT 확보 → 인증 서버에 세션 요청
POST /api/sessions
Authorization: Bearer <JWT>

응답
{
  "sessionId": "abc123-uuid",
  "email": "user@example.com"
}

모바일은 이 `sessionId`를 들고 있음.
---

### 2. 모바일 → 데스크탑 서버 연결 요청

모바일 앱이 데스크탑 서버에 원격 접속 요청 시 `sessionId` 전달

예: 웹소켓 / TCP 핸드셰이크 시
{
  "sessionId": "abc123-uuid"
}
---

### 3. 데스크탑 서버 → 인증 서버 세션 검증

데스크탑 서버는 받은 `sessionId`를 인증 서버에 확인
GET /api/sessions/abc123-uuid

응답
{
  "sessionId": "abc123-uuid",
  "email": "user@example.com"
}


👉 세션이 유효하므로 **연결 허용**.
👉 만약 404 응답 → **거부**.

---

### 4. 연결 성공 후 스트리밍/제어 시작

* 데스크탑 서버는 연결된 사용자 이메일이 자기 계정 소유자와 일치하는지 확인
* 일치하면 원격 화면 스트리밍 및 입력 제어 세션 시작

---

✅ 이 흐름만으로도

* **세션 키(sessionId)** = 임시 연결 권한
* **JWT → 세션 → 검증** 단계를 거쳐 안전하게 모바일 ↔ 데스크탑 연결 가능

---

